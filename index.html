<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>GTA RP ‚Ä¢ Neon Calc</title>
<style>
:root {
  --bg:#0b1020; --card:#131a33; --accent:#7c83ff; --accent-soft:rgba(124,131,255,0.2);
  --text:#e8ebff; --danger:#ff5c5c; --extra-color:#d18fff; --contract-color:#ffd17c;
  --rent-color:#5cffa2; --expense-color:#ff5c80;
}
*{box-sizing:border-box;}
body{margin:0;font-family:"Segoe UI",Arial,sans-serif;display:flex;justify-content:center;align-items:center;min-height:100vh;background:var(--bg);color:var(--text);overflow:hidden;}
.card{width:400px;background:var(--card);border-radius:20px;padding:20px;box-shadow:0 0 15px var(--accent-soft);position:relative;z-index:1;}
h2{text-align:center;color:var(--accent);}
h3{margin:16px 0 6px;font-size:15px;color:#cfd3ff;}
input{width:100%;height:40px;margin-top:6px;padding:0 12px;border-radius:10px;border:1px solid #2a3470;background:#0f1530;color:var(--text);transition:0.3s;}
input:focus{border-color:var(--accent);box-shadow:0 0 6px var(--accent-soft);}

button{height:40px;margin-top:8px;border-radius:10px;border:none;font-weight:600;cursor:pointer;transition:0.3s;padding:0 12px;position:relative;overflow:hidden;background:#1a2250;color:var(--text);box-shadow:0 0 4px rgba(124,131,255,0.2);}
button:hover{filter:brightness(1.05);}
button.danger{background:var(--danger);color:#fff;box-shadow:0 0 4px rgba(255,92,92,0.2);}

.stats p{margin:4px 0;font-size:14px;}
.history{max-height:120px;overflow-y:auto;margin-top:6px;background:#0f1530;border-radius:10px;padding:6px;font-size:13px;position:relative;}
.history div{padding:4px 6px;border-bottom:1px solid #1e2755;opacity:0;animation:slidein 0.4s forwards;}
.history div:last-child{border-bottom:none;}
@keyframes slidein{from{transform:translateX(-20px);opacity:0;}to{transform:translateX(0);opacity:1;}}

.select-theme{margin-top:8px;height:35px;border-radius:8px;border:none;padding:0 8px;font-size:14px;background:#1a2250;color:var(--text);}

.segment {display:flex;margin:10px 0;gap:6px;}
.segment button {flex:1;background:#1a2250;color:var(--text);font-size:14px;position:relative;overflow:hidden;transition:0.3s;box-shadow:0 0 4px rgba(124,131,255,0.2);}
.segment button.active{background:var(--accent);transform:scale(1.05);box-shadow:0 0 10px var(--accent);}

.categoryCard{padding:10px;border-radius:12px;margin-top:10px;border:2px solid rgba(255,255,255,0.1);position:relative;overflow:hidden;}
.categoryCard > *{position:relative;z-index:1;}

body::after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 20% 30%,rgba(255,255,255,0.03),transparent 40%),radial-gradient(circle at 80% 70%,rgba(255,255,255,0.03),transparent 40%);animation:stars 10s linear infinite;pointer-events:none;z-index:0;}
@keyframes stars{0%{background-position:0 0,100% 100%;}100%{background-position:100% 100%,0 0;}}

/* –°–≤–∏—Ç—á ¬´–û–±—â.¬ª —Å –Ω–∞–¥–ø–∏—Å—å—é –≤–Ω—É—Ç—Ä–∏ */
.toggle {position:relative;width:70px;height:28px;display:inline-block;}
.toggle input{opacity:0;width:0;height:0;}
.slider {position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#1a2250;transition:0.4s;border-radius:34px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:12px;box-shadow:0 0 4px rgba(124,131,255,0.2);}
.slider:before {position:absolute;content:"";height:22px;width:22px;left:3px;bottom:3px;background:white;transition:0.4s;border-radius:50%;}
input:checked + .slider{background:var(--accent);}
input:checked + .slider:before{transform:translateX(42px);}
</style>
</head>
<body>
<div class="card">
<h2>üåô GTA RP Neon Calc</h2>

<h3>–¢–µ–º—ã</h3>
<select class="select-theme" onchange="changeTheme(this.value)">
<option value="moon">–õ—É–Ω–Ω–∞—è</option>
<option value="galaxy">–ì–∞–ª–∞–∫—Ç–∏–∫–∞</option>
<option value="pastel">–ù–µ–æ–Ω–æ–≤–∞—è –ø–∞—Å—Ç–µ–ª—å</option>
<option value="sunset">–ó–∞–∫–∞—Ç –Ω–∞ –≤–æ–¥–µ</option>
</select>

<h3>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</h3>
<div class="segment">
  <button onclick="setCategory('extra')" id="btnExtra">–î–æ—Ö–æ–¥—ã</button>
  <button onclick="setCategory('expense')" id="btnExpense">–¢—Ä–∞—Ç—ã</button>
  <button onclick="setCategory('contract')" id="btnContract">–ö–æ–Ω—Ç—Ä–∞–∫—Ç</button>
  <button onclick="setCategory('rent')" id="btnRent">–ê—Ä–µ–Ω–¥–∞</button>
</div>

<div class="categoryCard" id="categoryForms">
  <div id="formExtra">
    <input id="extra" type="number" placeholder="–°—É–º–º–∞">
    <input id="extraDesc" type="text" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
    <button onclick="addExtra()">–î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥</button>
  </div>
  <div id="formExpense" style="display:none;">
    <input id="expense" type="number" placeholder="–°—É–º–º–∞">
    <input id="expenseDesc" type="text" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ">
    <button onclick="addExpense()">–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞—Ç—É</button>
  </div>
  <div id="formContract" style="display:none;">
    <input id="contract" type="number" placeholder="–°—É–º–º–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞">
    <button onclick="addContract()">–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç</button>
  </div>
  <div id="formRent" style="display:none;">
    <input id="price" type="number" placeholder="–¶–µ–Ω–∞ –∑–∞ —á–∞—Å">
    <input id="hours" type="number" placeholder="–ß–∞—Å—ã">
    <button onclick="setDefault()">5500 / 2 —á–∞—Å–∞</button>
    <button onclick="addRent()">–î–æ–±–∞–≤–∏—Ç—å –∞—Ä–µ–Ω–¥—É</button>
  </div>
</div>

<h3>üìä –ò—Ç–æ–≥–∏</h3>
<label>
  <label class="toggle">
    <input type="checkbox" id="showTotal" onchange="update()">
    <span class="slider">–û–±—â.</span>
  </label>
</label>
<div class="stats">
<p id="day">–ó–∞ –¥–µ–Ω—å: 0$</p>
<p id="week">–ó–∞ –Ω–µ–¥–µ–ª—é: 0$</p>
<p id="month">–ó–∞ –º–µ—Å—è—Ü: 0$</p>
</div>

<button onclick="newDay()">–ù–æ–≤—ã–π –¥–µ–Ω—å</button>
<button class="danger" onclick="resetAll()">–°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë</button>

<h3>üßæ –ò—Å—Ç–æ—Ä–∏—è</h3>
<div class="history" id="history"></div>
</div>

<script>
// ==== –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ====
let day=0, week=0, month=0;
let extraDay=0, extraWeek=0, extraMonth=0;
let expenseDay=0, expenseWeek=0, expenseMonth=0;
let contractDay=0, contractWeek=0, contractMonth=0;
let rentDay=0, rentWeek=0, rentMonth=0;
let historyArr=JSON.parse(localStorage.getItem("history"))||[];
let currentCategory='extra';
let showTotal=localStorage.getItem("showTotal")==='true';

// ==== –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ====
document.getElementById("showTotal").checked=showTotal;
setCategory('extra');
update();
renderHistory();

// ==== –§—É–Ω–∫—Ü–∏–∏ ====
function setCategory(cat){
  currentCategory=cat;
  document.querySelectorAll('#categoryForms > div').forEach(d=>d.style.display='none');
  document.getElementById('form'+capitalize(cat)).style.display='block';
  document.querySelectorAll('.segment button').forEach(b=>b.classList.remove('active'));
  document.getElementById('btn'+capitalize(cat)).classList.add('active');
  update();
}
function capitalize(s){return s.charAt(0).toUpperCase()+s.slice(1);}
function setDefault(){price.value=5500; hours.value=2;}

function addExtra(){let val=Number(extra.value); if(val<=0) return; let desc=extraDesc.value.trim(); extraDay+=val; extraWeek+=val; extraMonth+=val; historyArr.unshift(`[–î–æ—Ö–æ–¥—ã] +${val}$ ${desc}`); save(); update(); renderHistory(); extra.value=''; extraDesc.value='';}
function addExpense(){let val=Number(expense.value); if(val<=0) return; let desc=expenseDesc.value.trim(); expenseDay+=val; expenseWeek+=val; expenseMonth+=val; historyArr.unshift(`[–¢—Ä–∞—Ç—ã] -${val}$ ${desc}`); save(); update(); renderHistory(); expense.value=''; expenseDesc.value='';}
function addContract(){let val=Number(contract.value); if(val<=0) return; contractDay+=val; contractWeek+=val; contractMonth+=val; historyArr.unshift(`[–ö–æ–Ω—Ç—Ä–∞–∫—Ç] +${val}$`); save(); update(); renderHistory(); contract.value='';}
function addRent(){let val=Number(price.value)*Number(hours.value); if(isNaN(val)) return; rentDay+=val; rentWeek+=val; rentMonth+=val; historyArr.unshift(`[–ê—Ä–µ–Ω–¥–∞] +${val}$`); save(); update(); renderHistory(); price.value=''; hours.value='';}

function update(){
  let d=0,w=0,m=0;
  if(document.getElementById("showTotal").checked){
    d=extraDay-expenseDay+contractDay+rentDay;
    w=extraWeek-expenseWeek+contractWeek+rentWeek;
    m=extraMonth-expenseMonth+contractMonth+rentMonth;
  } else {
    if(currentCategory=='extra'){d=extraDay; w=extraWeek; m=extraMonth;}
    else if(currentCategory=='expense'){d=expenseDay; w=expenseWeek; m=expenseMonth;}
    else if(currentCategory=='contract'){d=contractDay; w=contractWeek; m=contractMonth;}
    else if(currentCategory=='rent'){d=rentDay; w=rentWeek; m=rentMonth;}
  }
  document.getElementById('day').innerText='–ó–∞ –¥–µ–Ω—å: '+d+'$';
  document.getElementById('week').innerText='–ó–∞ –Ω–µ–¥–µ–ª—é: '+w+'$';
  document.getElementById('month').innerText='–ó–∞ –º–µ—Å—è—Ü: '+m+'$';
  localStorage.setItem("showTotal",document.getElementById("showTotal").checked);
}

function renderHistory(){let h=document.getElementById('history');h.innerHTML='';historyArr.forEach(item=>{let div=document.createElement('div');div.innerText=item;if(item.includes('[–ê—Ä–µ–Ω–¥–∞]'))div.style.color='#5cffa2';else if(item.includes('[–ö–æ–Ω—Ç—Ä–∞–∫—Ç]'))div.style.color='#ffd17c';else if(item.includes('[–î–æ—Ö–æ–¥—ã]'))div.style.color='#d18fff';else if(item.includes('[–¢—Ä–∞—Ç—ã]'))div.style.color='#ff5c80';h.appendChild(div);});}
function save(){localStorage.setItem('history',JSON.stringify(historyArr));}

function newDay(){extraDay=0; expenseDay=0; contractDay=0; rentDay=0; update();}
function resetAll(){localStorage.clear(); location.reload();}

function changeTheme(t){
  if(t=='moon'){document.body.style.background='radial-gradient(circle at top,#1a2250,#0b1020)'; document.querySelector('.card').style.background='#131a33'; document.documentElement.style.setProperty('--accent','#7c83ff');}
  else if(t=='galaxy'){document.body.style.background='radial-gradient(circle at top,#200040,#500080)'; document.querySelector('.card').style.background='#2a0033'; document.documentElement.style.setProperty('--accent','#ff6fff');}
  else if(t=='pastel'){document.body.style.background='radial-gradient(circle at top,#8a5cff,#5cffe0)'; document.querySelector('.card').style.background='#1a0033'; document.documentElement.style.setProperty('--accent','#00ffe5');}
  else if(t=='sunset'){document.body.style.background='radial-gradient(circle at top,#ffb2a8,#ff6f91)'; document.querySelector('.card').style.background='#331a1a'; document.documentElement.style.setProperty('--accent','#ffdd00');}
}
</script>
</body>
</html>
